{"ast":null,"code":"var _jsxFileName = \"/Users/jay/Desktop/school/1030/courseProject-individual/src/components/login/AdminPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Nav from '../nav/nav';\nimport { Container, Col, Row, Form, Button, FormGroup, Label, Input, Table } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminPage = () => {\n  _s();\n\n  let location = useLocation();\n  let pathname = location.pathname;\n  let providerID = pathname.substring(7);\n  let history = useHistory();\n  const token = sessionStorage.getItem('token');\n  const [userInfo, setUserInfo] = useState([]);\n  const [admin, setAdmin] = useState(false);\n  const [careProviderSearchID, setCareProviderSearchID] = useState(\"\");\n  const [careProviderSearchResults, setCareProviderSearchResults] = useState([]);\n  const [careProviderResult, setCareProviderResult] = useState(true);\n  const [patientSearchID, setPatientSearchID] = useState(\"\");\n  const [patientSearchResults, setPatientSearchResults] = useState([]);\n  const [patientResult, setPatientResult] = useState(true); // UseEffect function to load authenticated users information\n\n  useEffect(() => {\n    const getUserData = async () => {\n      const response = await fetch(`http://localhost:4000/care_provider/${providerID}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const payload = await response.json();\n      setUserInfo(payload);\n\n      if (payload[0].isAdmin === 1) {\n        setAdmin(true);\n      }\n    };\n\n    getUserData();\n  }, [providerID, token]); // Search Care Provider function by employee ID\n\n  const searchCareProvider = async event => {\n    event.preventDefault();\n\n    const getCareProvider = async () => {\n      const response = await fetch(`http://localhost:4000/care_provider/${careProviderSearchID}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const payload = await response.json();\n\n      if (response.status >= 400) {\n        setCareProviderResult(false);\n      } else {\n        setCareProviderResult(true);\n      }\n\n      setCareProviderSearchResults(payload);\n    };\n\n    getCareProvider();\n  }; // Search Patients function by health card number (10 digits)\n\n\n  const searchPatient = async event => {\n    event.preventDefault();\n\n    const getPatient = async () => {\n      const response = await fetch(`http://localhost:4000/patient/${patientSearchID}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const payload = await response.json();\n\n      if (response.status >= 400) {\n        setPatientResult(false);\n      } else {\n        setPatientResult(true);\n      }\n\n      setPatientSearchResults(payload);\n    };\n\n    getPatient();\n  }; // Delete care provider function\n\n\n  const deleteCareProvider = async event => {\n    let id = careProviderSearchResults[0].careProviderID;\n    event.preventDefault();\n\n    const deleteRow = async () => {\n      const response = await fetch(`http://localhost:4000/care_provider/${id}`, {\n        method: 'DELETE',\n        headers: {}\n      });\n      const payload = await response.json();\n      alert(payload.message);\n      setCareProviderSearchResults([]);\n    };\n\n    deleteRow();\n  }; // Delete patient function\n\n\n  const deletePatient = async event => {\n    let id = patientSearchResults[0].HCN;\n    event.preventDefault();\n\n    const deleteRow = async () => {\n      const response = await fetch(`http://localhost:4000/patient/${id}`, {\n        method: 'DELETE',\n        headers: {}\n      });\n      const payload = await response.json();\n      alert(payload.message);\n      setPatientSearchResults([]);\n    };\n\n    deleteRow();\n  }; // To add link to provider page with matching careProviderID\n\n\n  const viewCareProvider = () => {\n    history.push(`careproviders/${careProviderSearchID}/${providerID}`);\n  }; // To add link to patient details page with matching HCN\n\n\n  const viewPatient = () => {\n    history.push(`patients/${patientSearchID}/${providerID}`);\n  }; // To add link to add a care provider\n\n\n  const addCareProvider = () => {\n    history.push(`/admin/addprovider`);\n  }; // To add link to add a patient\n\n\n  const addPatient = () => {\n    history.push(`/admin/addpatient`);\n  }; // Logout function\n\n\n  const logout = event => {\n    event.preventDefault();\n    sessionStorage.removeItem('token');\n    history.push(\"/login\");\n  }; // Format DOB function\n\n\n  const formatDOB = date => {\n    if (date) {\n      const cleanDate = date.substring(0, 10);\n      return cleanDate;\n    } else {\n      return date;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    class: \"containerColumn\",\n    id: \"page-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"lessCentered\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Administrator Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [userInfo.map(user => /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Welcome \", user.firstName, \" \", user.lastName, \", \", user.specialization]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this)), /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            offset: 11\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            outline: true,\n            color: \"primary\",\n            onClick: logout,\n            children: \"LOGOUT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), !admin && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: searchPatient,\n              children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"Search Patients\",\n                  children: \"Search Patients by Health Card Number (10 digits)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"text\",\n                  name: \"name\",\n                  required: true,\n                  value: patientSearchID,\n                  onChange: e => setPatientSearchID(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                type: \"submit\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 37\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              borderless: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"HCN\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"First Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Last Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"DOB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [!patientResult && patientSearchResults.map(searchResult => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"5\",\n                    children: searchResult.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 41\n                }, this)), patientResult === true && patientSearchResults.map(searchResult => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.HCN\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.firstName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: formatDOB(searchResult.dob)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      color: \"info\",\n                      onClick: viewPatient,\n                      children: \"VIEW\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 41\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }, this), admin && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: searchPatient,\n              children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"Search Patients\",\n                  children: \"Search Patients by Health Card Number (10 digits)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"text\",\n                  name: \"name\",\n                  required: true,\n                  value: patientSearchID,\n                  onChange: e => setPatientSearchID(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                type: \"submit\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 37\n              }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                onClick: addPatient,\n                children: \"Add New Patient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              borderless: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"HCN\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"First Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Last Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"DOB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [!patientResult && patientSearchResults.map(searchResult => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"6\",\n                    children: searchResult.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 41\n                }, this)), patientResult && patientSearchResults.map(searchResult => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.HCN || searchResult.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.firstName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: formatDOB(searchResult.dob)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      color: \"info\",\n                      onClick: viewPatient,\n                      children: \"VIEW\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      outline: true,\n                      color: \"danger\",\n                      onClick: deletePatient,\n                      children: \"DELETE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 41\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: searchCareProvider,\n              children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  for: \"Search Care Provider\",\n                  children: \"Search Care Provider by ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"text\",\n                  name: \"name\",\n                  required: true,\n                  value: careProviderSearchID,\n                  onChange: e => setCareProviderSearchID(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                type: \"submit\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 37\n              }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                onClick: addCareProvider,\n                children: \"Add New Care Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              borderless: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"First Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Last Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [!careProviderResult && careProviderSearchResults.map(searchResult => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"6\",\n                    children: searchResult.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 41\n                }, this)), careProviderResult && careProviderSearchResults.map(searchResult => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.careProviderID\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.firstName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: searchResult.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      color: \"info\",\n                      onClick: viewCareProvider,\n                      children: \"VIEW\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"sm\",\n                      outline: true,\n                      color: \"danger\",\n                      onClick: deleteCareProvider,\n                      children: \"DELETE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 41\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AdminPage, \"mKA3cnBvcxldZJsZsJK0f+YDC08=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = AdminPage;\nexport default AdminPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"sources":["/Users/jay/Desktop/school/1030/courseProject-individual/src/components/login/AdminPage.jsx"],"names":["React","useEffect","useState","useHistory","useLocation","Nav","Container","Col","Row","Form","Button","FormGroup","Label","Input","Table","AdminPage","location","pathname","providerID","substring","history","token","sessionStorage","getItem","userInfo","setUserInfo","admin","setAdmin","careProviderSearchID","setCareProviderSearchID","careProviderSearchResults","setCareProviderSearchResults","careProviderResult","setCareProviderResult","patientSearchID","setPatientSearchID","patientSearchResults","setPatientSearchResults","patientResult","setPatientResult","getUserData","response","fetch","method","headers","payload","json","isAdmin","searchCareProvider","event","preventDefault","getCareProvider","status","searchPatient","getPatient","deleteCareProvider","id","careProviderID","deleteRow","alert","message","deletePatient","HCN","viewCareProvider","push","viewPatient","addCareProvider","addPatient","logout","removeItem","formatDOB","date","cleanDate","map","user","firstName","lastName","specialization","offset","e","target","value","searchResult","dob","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Nav from '../nav/nav'\n\nimport { Container, Col, Row, Form,  \n    Button, FormGroup, Label, Input, \n    Table} from 'reactstrap';\n\n\nconst AdminPage = () => {\n\n    let location = useLocation()\n    let pathname = location.pathname\n    let providerID = pathname.substring(7)\n    let history = useHistory();\n\n    const token = sessionStorage.getItem('token')\n    const [userInfo, setUserInfo] = useState([])\n    const [admin, setAdmin] = useState(false)\n    const [careProviderSearchID, setCareProviderSearchID] = useState(\"\")\n    const [careProviderSearchResults, setCareProviderSearchResults] = useState([])\n    const [careProviderResult, setCareProviderResult] = useState(true)\n    const [patientSearchID, setPatientSearchID] = useState(\"\")\n    const [patientSearchResults, setPatientSearchResults] = useState([])\n    const [patientResult, setPatientResult] = useState(true)\n\n    // UseEffect function to load authenticated users information\n    useEffect(() => {\n        const getUserData = async () => {\n            const response = await fetch(`http://localhost:4000/care_provider/${providerID}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }          \n            })\n            const payload = await response.json()\n            setUserInfo(payload)\n\n            if (payload[0].isAdmin === 1) {\n                setAdmin(true)\n            }\n        }\n        getUserData()    \n    }, [providerID, token])\n\n    // Search Care Provider function by employee ID\n    const searchCareProvider = async event => {\n        \n        event.preventDefault()\n        const getCareProvider = async () => {\n            const response = await fetch(`http://localhost:4000/care_provider/${careProviderSearchID}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }          \n            })\n            const payload = await response.json()\n\n            if (response.status >= 400) {\n                setCareProviderResult(false)\n            } else {\n                setCareProviderResult(true)\n            }\n            setCareProviderSearchResults(payload)\n        }\n        getCareProvider()    \n    }\n\n    // Search Patients function by health card number (10 digits)\n    const searchPatient = async event => {\n        \n        event.preventDefault()\n        const getPatient = async () => {\n            const response = await fetch(`http://localhost:4000/patient/${patientSearchID}`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }          \n            })\n            const payload = await response.json()\n            \n            if (response.status >= 400) {\n                setPatientResult(false)\n            } else {\n                setPatientResult(true)\n            }\n            setPatientSearchResults(payload)\n        }\n        getPatient()    \n    }\n\n    // Delete care provider function\n    const deleteCareProvider = async event => {\n\n        let id = careProviderSearchResults[0].careProviderID\n        \n        event.preventDefault()\n        const deleteRow = async () => {\n            const response = await fetch(`http://localhost:4000/care_provider/${id}`, {\n                method: 'DELETE',\n                headers: {\n                }          \n            })\n            const payload = await response.json()\n            alert(payload.message)\n            setCareProviderSearchResults([])\n        }\n        deleteRow()    \n    }\n\n    // Delete patient function\n    const deletePatient = async event => {\n\n        let id = patientSearchResults[0].HCN\n        \n        event.preventDefault()\n        const deleteRow = async () => {\n            const response = await fetch(`http://localhost:4000/patient/${id}`, {\n                method: 'DELETE',\n                headers: {\n                }          \n            })\n            const payload = await response.json()\n            alert(payload.message)\n            setPatientSearchResults([])\n        }\n        deleteRow()    \n    }\n\n    // To add link to provider page with matching careProviderID\n    const viewCareProvider = () => {\n        history.push(`careproviders/${careProviderSearchID}/${providerID}`)\n    }\n\n    // To add link to patient details page with matching HCN\n    const viewPatient = () => {\n        history.push(`patients/${patientSearchID}/${providerID}`)\n    }\n\n    // To add link to add a care provider\n    const addCareProvider = () => {\n        history.push(`/admin/addprovider`)\n    }\n\n    // To add link to add a patient\n    const addPatient = () => {\n        history.push(`/admin/addpatient`)\n    }\n\n    // Logout function\n    const logout = event => {\n        event.preventDefault()\n        sessionStorage.removeItem('token')\n        history.push(\"/login\")\n    }\n\n    // Format DOB function\n    const formatDOB = (date) => {\n\n        if (date) {\n            const cleanDate = date.substring(0,10)\n            return cleanDate\n        } else {\n            return date\n        }\n    }\n\n    \n\n    return (   \n        <main class=\"containerColumn\" id=\"page-wrap\">\n            <Nav />\n            <Container className=\"lessCentered\">\n                <Row>\n                    <h2>Administrator Portal</h2> \n                </Row>\n                <Row>\n                    {userInfo.map((user) => \n                    <h4>Welcome {user.firstName} {user.lastName}, {user.specialization}</h4>)}\n                    <Col xs={{offset: 11}}>\n                        <Button outline color=\"primary\" onClick={logout}>LOGOUT</Button>\n                    </Col>\n                </Row>\n                {!admin &&\n                    <div>\n                        <Row>\n                            <Col>\n                                <Form onSubmit={searchPatient}>\n                                    <FormGroup>\n                                        <Label for=\"Search Patients\">Search Patients by Health Card Number (10 digits)</Label>\n                                        <Input \n                                            type=\"text\" \n                                            name=\"name\" \n                                            required \n                                            value={patientSearchID} \n                                            onChange={e => setPatientSearchID(e.target.value)} \n                                        />\n                                    </FormGroup>\n                                    <Button color=\"secondary\" type=\"submit\" >Search</Button>{' '} \n                                </Form> \n                                <Table borderless>\n                                    <thead>\n                                        <tr>\n                                            <th>HCN</th>\n                                            <th>First Name</th>\n                                            <th>Last Name</th>\n                                            <th>DOB</th>\n                                            <th></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                    {!patientResult && patientSearchResults.map((searchResult) => \n                                        <tr>\n                                            <td colSpan='5'>\n                                            {searchResult.message}\n                                            </td>\n                                        </tr>\n                                    )}\n                                    {patientResult === true && patientSearchResults.map((searchResult) => \n                                        <tr>\n                                            <td>{searchResult.HCN}</td>\n                                            <td>{searchResult.firstName}</td>\n                                            <td>{searchResult.lastName}</td>\n                                            <td>{formatDOB(searchResult.dob)}</td>\n                                            <td><Button size=\"sm\" color=\"info\" onClick={viewPatient}>VIEW</Button></td>\n                                            <td></td>\n                                        </tr>\n                                    )}\n                                    </tbody>\n                                </Table>\n                            </Col>\n                            <Col>\n                            </Col>\n                        </Row>  \n                    </div>\n                }       \n                {admin && \n                    <div>\n                        <Row>\n                            <Col>\n                                <Form onSubmit={searchPatient}>\n                                    <FormGroup>\n                                        <Label for=\"Search Patients\">Search Patients by Health Card Number (10 digits)</Label>\n                                        <Input \n                                            type=\"text\" \n                                            name=\"name\" \n                                            required \n                                            value={patientSearchID} \n                                            onChange={e => setPatientSearchID(e.target.value)} \n                                        />\n                                    </FormGroup>\n                                    <Button color=\"secondary\" type=\"submit\" >Search</Button>{' '}\n                                    <Button color=\"primary\" onClick={addPatient}>Add New Patient</Button>\n                                </Form>\n                                <Table borderless>\n                                    <thead>\n                                        <tr>\n                                            <th>HCN</th>\n                                            <th>First Name</th>\n                                            <th>Last Name</th>\n                                            <th>DOB</th>\n                                            <th></th>\n                                            <th></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                    {!patientResult && patientSearchResults.map((searchResult) => \n                                        <tr>\n                                            <td colSpan='6'>\n                                            {searchResult.message}\n                                            </td>\n                                        </tr>\n                                    )}\n                                    {patientResult &&  patientSearchResults.map((searchResult) => \n                                        <tr>\n                                            <td>{searchResult.HCN || searchResult.message}</td>\n                                            <td>{searchResult.firstName}</td>\n                                            <td>{searchResult.lastName}</td>\n                                            <td>{formatDOB(searchResult.dob)}</td>\n                                            <td><Button size=\"sm\" color=\"info\" onClick={viewPatient}>VIEW</Button></td>\n                                            <td><Button size=\"sm\" outline color=\"danger\" onClick={deletePatient}>DELETE</Button></td>\n                                        </tr>\n                                    )}\n                                    </tbody>\n                                </Table>\n                            </Col>\n                            <Col>\n                                <Form onSubmit={searchCareProvider}>\n                                    <FormGroup>\n                                        <Label for=\"Search Care Provider\">Search Care Provider by ID</Label>\n                                            <Input \n                                                type=\"text\" \n                                                name=\"name\" \n                                                required \n                                                value={careProviderSearchID} \n                                                onChange={e => setCareProviderSearchID(e.target.value)} \n                                            /> \n                                    </FormGroup> \n                                    <Button color=\"secondary\" type=\"submit\" >Search</Button>{' '}\n                                    <Button color=\"primary\" onClick={addCareProvider}>Add New Care Provider</Button>\n                                </Form>\n                                <Table borderless>\n                                    <thead>\n                                        <tr>\n                                            <th>ID</th>\n                                            <th>First Name</th>\n                                            <th>Last Name</th>\n                                            <th>Email</th>\n                                            <th></th>\n                                            <th></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                    {!careProviderResult && careProviderSearchResults.map((searchResult) => \n                                        <tr>\n                                            <td colSpan='6'>\n                                            {searchResult.message}\n                                            </td>\n                                        </tr>\n                                    )}\n                                    {careProviderResult && careProviderSearchResults.map((searchResult) => \n                                        <tr>\n                                            <td>{searchResult.careProviderID}</td>\n                                            <td>{searchResult.firstName}</td>\n                                            <td>{searchResult.lastName}</td>\n                                            <td>{searchResult.email}</td>\n                                            <td><Button size=\"sm\" color=\"info\" onClick={viewCareProvider}>VIEW</Button></td>\n                                            <td><Button size=\"sm\" outline color=\"danger\" onClick={deleteCareProvider}>DELETE</Button></td>\n                                        </tr>\n                                    )}\n                                    </tbody>\n                                </Table>\n                            </Col>\n                        </Row>\n                    </div>\n                }\n            </Container>\n        </main>\n     );\n }\n  \n export default AdminPage;"]},"metadata":{},"sourceType":"module"}