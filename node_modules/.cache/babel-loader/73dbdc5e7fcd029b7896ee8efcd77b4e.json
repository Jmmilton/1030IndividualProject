{"ast":null,"code":"var _jsxFileName = \"/Users/jay/Desktop/school/1030/courseProject-individual/src/components/login/private/private.js\",\n    _s = $RefreshSig$();\n\nimport Nav from \"../../nav/nav\";\nimport '../../../../src/style.css';\nimport React, { useEffect, useState } from 'react';\nimport { Container, Row } from 'react-strap';\nimport parseJwt from '../../helpers/authHelper';\nimport { useHistory } from \"react-router-dom\"; // import * as db from \"../../../../Backend/src/db\"\n// Tried getting contact form entries from backend DB but didnt work. \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Private = () => {\n  _s();\n\n  // const entries = db.getAllEntries()\n  let history = useHistory();\n  const token = sessionStorage.getItem('token');\n  const user = parseJwt(token).username;\n  const [listing, setListing] = useState([]);\n\n  const logout = event => {\n    event.preventDefault();\n    sessionStorage.removeItem('token');\n    history.push(\"/login\");\n  };\n\n  useEffect(() => {\n    const getData = async () => {\n      const response = await fetch('http://localhost:9000/contact_form/entries', {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setListing(data);\n    };\n\n    getData();\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Listings for user: \", user]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Private, \"JzTexKPmFVmd6tlCqeSHDeZpxKo=\", false, function () {\n  return [useHistory];\n});\n\n_c = Private;\nexport default Private;\n\nvar _c;\n\n$RefreshReg$(_c, \"Private\");","map":{"version":3,"sources":["/Users/jay/Desktop/school/1030/courseProject-individual/src/components/login/private/private.js"],"names":["Nav","React","useEffect","useState","Container","Row","parseJwt","useHistory","Private","history","token","sessionStorage","getItem","user","username","listing","setListing","logout","event","preventDefault","removeItem","push","getData","response","fetch","method","headers","data","json"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,eAAhB;AACA,OAAO,2BAAP;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,GAApB,QAA8B,aAA9B;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CACA;AAEA;;;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAClB;AACA,MAAIC,OAAO,GAAGF,UAAU,EAAxB;AACA,QAAMG,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAd;AACA,QAAMC,IAAI,GAAGP,QAAQ,CAACI,KAAD,CAAR,CAAgBI,QAA7B;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;;AACA,QAAMc,MAAM,GAAGC,KAAK,IAAI;AACpBA,IAAAA,KAAK,CAACC,cAAN;AACAR,IAAAA,cAAc,CAACS,UAAf,CAA0B,OAA1B;AACAX,IAAAA,OAAO,CAACY,IAAR,CAAa,QAAb;AACH,GAJD;;AAKAnB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMoB,OAAO,GAAG,YAAY;AACxB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAAD,EAA+C;AACvEC,QAAAA,MAAM,EAAE,KAD+D;AAEvEC,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAAShB,KAAM;AAD5B;AAF8D,OAA/C,CAA5B;AAMA,YAAMiB,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AACAZ,MAAAA,UAAU,CAACW,IAAD,CAAV;AACH,KATD;;AAUAL,IAAAA,OAAO;AACV,GAZQ,EAYN,CAACZ,KAAD,CAZM,CAAT;AAaA,sBACI,QAAC,SAAD;AAAA,4BACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,GAAD;AAAA,6BACI;AAAA,0CAAwBG,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CAhCD;;GAAML,O;UAEYD,U;;;KAFZC,O;AAkCN,eAAeA,OAAf","sourcesContent":["import Nav from \"../../nav/nav\"\nimport '../../../../src/style.css'\nimport React, { useEffect, useState } from 'react'\nimport { Container, Row} from 'react-strap'\nimport parseJwt from '../../helpers/authHelper'\nimport { useHistory } from \"react-router-dom\";\n// import * as db from \"../../../../Backend/src/db\"\n\n// Tried getting contact form entries from backend DB but didnt work. \n\nconst Private = () => {\n    // const entries = db.getAllEntries()\n    let history = useHistory();\n    const token = sessionStorage.getItem('token')\n    const user = parseJwt(token).username\n    const [listing, setListing] = useState([])\n    const logout = event => {\n        event.preventDefault()\n        sessionStorage.removeItem('token')\n        history.push(\"/login\")\n    }\n    useEffect(() => {\n        const getData = async () => {\n            const response = await fetch('http://localhost:9000/contact_form/entries', {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n            const data = await response.json()\n            setListing(data)\n        }\n        getData()\n    }, [token])\n    return (\n        <Container>\n            <Nav />\n            <Row>\n                <h1>Listings for user: {user}</h1>\n            </Row>\n        </Container>\n    )\n}\n\nexport default Private;"]},"metadata":{},"sourceType":"module"}